# Active Context: Clean & Free (本地轉型)

## 目前任務 (Task)

將專案從依賴 Google API 的雲端版，徹底轉型為**完全免費、無 API 配額的本地應用程式**，並完成所有檔案的清理、目錄結構優化與 GitHub 追蹤管理。

## 進度 (Progress)

*   [x] **移除 Google API 依賴**：刪除 `google-genai` 與 `.env` API Key 設定，專案完全轉向本地模型。
*   [x] **整合 Lama Cleaner**：取代雲端圖片清理 API，實現本地高精度去背。
*   [x] **整合 EasyOCR**：取代雲端 OCR API，實現本地多語言辨識與排版還原。
*   [x] **清理專案結構 (2026-02-22)**：
    *   建立 `logs/` 資料夾並移入所有日誌檔，透過 `.gitignore` 禁止上傳。
    *   建立 `trials/` 十資料夾存放試錯腳本、備份檔及單次性工具（如 `create_icon.py`）。
    *   將雜亂的入口腳本 (`convert_free.py`, `convert_ultimate.py`) 移至 `tools/`。
    *   精簡根目錄，僅保留 `main.py` 與 `gui.py` 作為核心入口。
*   [x] **更新文檔與參考**：更新 `README.md` 以及 Memory Bank。
*   [x] **優化 CLI 與 GUI**：確保雙介面順暢運作。

## 待辦事項 (Todos)

1.  **使用者封裝**：考慮使用 `PyInstaller` 將專案封裝為獨立的 `.exe` 執行檔，方便一般使用者下載即用。
2.  **效能優化**：研究是否能開啟多執行緒並行處理 PDF 頁面，縮短大型檔案的轉換時間。
3.  **錯誤回報機制**：建立更完善的日誌系統，方便追蹤本地模型載入或 CUDA 相關問題。

## 重要決策與注意事項

*   **完全免費**：這是專案的核心價值主張，未來開發需優先考慮不增加使用者成本的方案。
*   **本地優先**：所有 AI 功能都需能在本地執行，確保隱私與離線可用性。
*   **清理原則**：定期檢查並移除未使用的腳本與暫存檔，保持專案輕量化。
*   **模型快取**：提醒使用者首次使用需下載模型，這是一次性的成本。
